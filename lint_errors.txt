
> vite-react-starter@0.0.0 lint
> eslint .


C:\Users\hasan\.gemini\antigravity\scratch\my-racing-game\src\App.jsx
   130:14  error  'e' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            no-unused-vars
   490:15  error  'laneX' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    no-unused-vars
   850:8   error  Error: Cannot access refs during render

React refs are values that are not needed for rendering. Refs should only be accessed outside of render, such as in event handlers or effects. Accessing a ref value (the `current` property) during render can cause your component not to update as expected (https://react.dev/reference/react/useRef).

  848 |   const rightTarget = useRef();
  849 |
> 850 |   if (!leftTarget.current) { leftTarget.current = new THREE.Object3D(); leftTarget.current.position.set(-0.5, -0.5, -100); }
      |        ^^^^^^^^^^^^^^^^^^ Cannot access ref value during render
  851 |   if (!rightTarget.current) { rightTarget.current = new THREE.Object3D(); rightTarget.current.position.set(0.5, -0.5, -100); }
  852 |
  853 |   useEffect(() => {

To initialize a ref only once, check that the ref is null with the pattern `if (ref.current == null) { ref.current = ... }`                                                                                                                                                                                                react-hooks/refs
   850:73  error  Error: Cannot access refs during render

React refs are values that are not needed for rendering. Refs should only be accessed outside of render, such as in event handlers or effects. Accessing a ref value (the `current` property) during render can cause your component not to update as expected (https://react.dev/reference/react/useRef).

  848 |   const rightTarget = useRef();
  849 |
> 850 |   if (!leftTarget.current) { leftTarget.current = new THREE.Object3D(); leftTarget.current.position.set(-0.5, -0.5, -100); }
      |                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^ Passing a ref to a function may read its value during render
  851 |   if (!rightTarget.current) { rightTarget.current = new THREE.Object3D(); rightTarget.current.position.set(0.5, -0.5, -100); }
  852 |
  853 |   useEffect(() => {                                                                                                                                                                                                                            react-hooks/refs
   850:73  error  Error: Cannot access refs during render

React refs are values that are not needed for rendering. Refs should only be accessed outside of render, such as in event handlers or effects. Accessing a ref value (the `current` property) during render can cause your component not to update as expected (https://react.dev/reference/react/useRef).

  848 |   const rightTarget = useRef();
  849 |
> 850 |   if (!leftTarget.current) { leftTarget.current = new THREE.Object3D(); leftTarget.current.position.set(-0.5, -0.5, -100); }
      |                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Passing a ref to a function may read its value during render
  851 |   if (!rightTarget.current) { rightTarget.current = new THREE.Object3D(); rightTarget.current.position.set(0.5, -0.5, -100); }
  852 |
  853 |   useEffect(() => {                                                                                                                                                                                                                        react-hooks/refs
   851:8   error  Error: Cannot access refs during render

React refs are values that are not needed for rendering. Refs should only be accessed outside of render, such as in event handlers or effects. Accessing a ref value (the `current` property) during render can cause your component not to update as expected (https://react.dev/reference/react/useRef).

  849 |
  850 |   if (!leftTarget.current) { leftTarget.current = new THREE.Object3D(); leftTarget.current.position.set(-0.5, -0.5, -100); }
> 851 |   if (!rightTarget.current) { rightTarget.current = new THREE.Object3D(); rightTarget.current.position.set(0.5, -0.5, -100); }
      |        ^^^^^^^^^^^^^^^^^^^ Cannot access ref value during render
  852 |
  853 |   useEffect(() => {
  854 |     if (group.current && gameState === 'playing') {

To initialize a ref only once, check that the ref is null with the pattern `if (ref.current == null) { ref.current = ... }`                                                                                                                                                                           react-hooks/refs
   851:75  error  Error: Cannot access refs during render

React refs are values that are not needed for rendering. Refs should only be accessed outside of render, such as in event handlers or effects. Accessing a ref value (the `current` property) during render can cause your component not to update as expected (https://react.dev/reference/react/useRef).

  849 |
  850 |   if (!leftTarget.current) { leftTarget.current = new THREE.Object3D(); leftTarget.current.position.set(-0.5, -0.5, -100); }
> 851 |   if (!rightTarget.current) { rightTarget.current = new THREE.Object3D(); rightTarget.current.position.set(0.5, -0.5, -100); }
      |                                                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Passing a ref to a function may read its value during render
  852 |
  853 |   useEffect(() => {
  854 |     if (group.current && gameState === 'playing') {                                                                                                                                                                                                     react-hooks/refs
   851:75  error  Error: Cannot access refs during render

React refs are values that are not needed for rendering. Refs should only be accessed outside of render, such as in event handlers or effects. Accessing a ref value (the `current` property) during render can cause your component not to update as expected (https://react.dev/reference/react/useRef).

  849 |
  850 |   if (!leftTarget.current) { leftTarget.current = new THREE.Object3D(); leftTarget.current.position.set(-0.5, -0.5, -100); }
> 851 |   if (!rightTarget.current) { rightTarget.current = new THREE.Object3D(); rightTarget.current.position.set(0.5, -0.5, -100); }
      |                                                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Passing a ref to a function may read its value during render
  852 |
  853 |   useEffect(() => {
  854 |     if (group.current && gameState === 'playing') {                                                                                                                                                                                                 react-hooks/refs
   944:26  error  Error: Cannot access refs during render

React refs are values that are not needed for rendering. Refs should only be accessed outside of render, such as in event handlers or effects. Accessing a ref value (the `current` property) during render can cause your component not to update as expected (https://react.dev/reference/react/useRef).

  942 |   return (
  943 |     <group ref={group} position={[0, 0.1, -2]}>
> 944 |       <primitive object={leftTarget.current} />
      |                          ^^^^^^^^^^^^^^^^^^ Cannot access ref value during render
  945 |       <primitive object={rightTarget.current} />
  946 |       <spotLight position={[0.8, 0.6, -1.5]} target={rightTarget.current} angle={0.3} penumbra={0.2} intensity={120} color="#fff" distance={250} />
  947 |       <spotLight position={[-0.8, 0.6, -1.5]} target={leftTarget.current} angle={0.3} penumbra={0.2} intensity={120} color="#fff" distance={250} />                                                                                                                                                       react-hooks/refs
   945:26  error  Error: Cannot access refs during render

React refs are values that are not needed for rendering. Refs should only be accessed outside of render, such as in event handlers or effects. Accessing a ref value (the `current` property) during render can cause your component not to update as expected (https://react.dev/reference/react/useRef).

  943 |     <group ref={group} position={[0, 0.1, -2]}>
  944 |       <primitive object={leftTarget.current} />
> 945 |       <primitive object={rightTarget.current} />
      |                          ^^^^^^^^^^^^^^^^^^^ Cannot access ref value during render
  946 |       <spotLight position={[0.8, 0.6, -1.5]} target={rightTarget.current} angle={0.3} penumbra={0.2} intensity={120} color="#fff" distance={250} />
  947 |       <spotLight position={[-0.8, 0.6, -1.5]} target={leftTarget.current} angle={0.3} penumbra={0.2} intensity={120} color="#fff" distance={250} />
  948 |                                                                                                                                                                 react-hooks/refs
   946:54  error  Error: Cannot access refs during render

React refs are values that are not needed for rendering. Refs should only be accessed outside of render, such as in event handlers or effects. Accessing a ref value (the `current` property) during render can cause your component not to update as expected (https://react.dev/reference/react/useRef).

  944 |       <primitive object={leftTarget.current} />
  945 |       <primitive object={rightTarget.current} />
> 946 |       <spotLight position={[0.8, 0.6, -1.5]} target={rightTarget.current} angle={0.3} penumbra={0.2} intensity={120} color="#fff" distance={250} />
      |                                                      ^^^^^^^^^^^^^^^^^^^ Cannot access ref value during render
  947 |       <spotLight position={[-0.8, 0.6, -1.5]} target={leftTarget.current} angle={0.3} penumbra={0.2} intensity={120} color="#fff" distance={250} />
  948 |       
  949 |       <mesh position={[0, 0.4, 0]} material={materials.body}><boxGeometry args={[1.8, 0.5, 4.2]} /></mesh>                                                                   react-hooks/refs
   947:55  error  Error: Cannot access refs during render

React refs are values that are not needed for rendering. Refs should only be accessed outside of render, such as in event handlers or effects. Accessing a ref value (the `current` property) during render can cause your component not to update as expected (https://react.dev/reference/react/useRef).

  945 |       <primitive object={rightTarget.current} />
  946 |       <spotLight position={[0.8, 0.6, -1.5]} target={rightTarget.current} angle={0.3} penumbra={0.2} intensity={120} color="#fff" distance={250} />
> 947 |       <spotLight position={[-0.8, 0.6, -1.5]} target={leftTarget.current} angle={0.3} penumbra={0.2} intensity={120} color="#fff" distance={250} />
      |                                                       ^^^^^^^^^^^^^^^^^^ Cannot access ref value during render
  948 |       
  949 |       <mesh position={[0, 0.4, 0]} material={materials.body}><boxGeometry args={[1.8, 0.5, 4.2]} /></mesh>
  950 |       <mesh position={[-0.95, 0.3, 1.2]} material={materials.body}><boxGeometry args={[0.4, 0.4, 1.2]} /></mesh>  react-hooks/refs
  1126:11  error  Error: Cannot call impure function during render

`Math.random` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).

  1124 |     const floors = Math.floor(height / 3);
  1125 |     for (let i = 1; i < floors; i++) {
> 1126 |       if (Math.random() > 0.75) {
       |           ^^^^^^^^^^^^^ Cannot call impure function
  1127 |         const offsetDirection = side > 0 ? -1 : 1;
  1128 |         w.push([0, i * 3, offsetDirection * (width / 2 + 0.1)]); 
  1129 |       }                                                                                                                                                                                                                                                                                                                                                                                                                    react-hooks/purity
  1159:18  error  Error: Cannot call impure function during render

`Math.random` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).

  1157 |   const { speed } = useGameStore();
  1158 |   const objects = useMemo(() => new Array(15).fill(0).map((_, i) => {
> 1159 |     const rand = Math.random();
       |                  ^^^^^^^^^^^^^ Cannot call impure function
  1160 |     let type = 'empty', height = 0, width = 0;
  1161 |     if (rand > 0.8) { type = 'apartment'; height = 30 + Math.random() * 40; width = 12; }
  1162 |     else if (rand > 0.5) { type = 'small_house'; height = 6; width = 8; }                                                                                                                                                                                                                                                                                                 react-hooks/purity
  1161:57  error  Error: Cannot call impure function during render

`Math.random` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).

  1159 |     const rand = Math.random();
  1160 |     let type = 'empty', height = 0, width = 0;
> 1161 |     if (rand > 0.8) { type = 'apartment'; height = 30 + Math.random() * 40; width = 12; }
       |                                                         ^^^^^^^^^^^^^ Cannot call impure function
  1162 |     else if (rand > 0.5) { type = 'small_house'; height = 6; width = 8; } 
  1163 |     else if (rand > 0.2) { type = 'tree'; } 
  1164 |     return { z: -i * 50, type, height, width, offset: (Math.random() - 0.5) * 20 };                                                                                                                                                                                                                                  react-hooks/purity
  1164:56  error  Error: Cannot call impure function during render

`Math.random` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).

  1162 |     else if (rand > 0.5) { type = 'small_house'; height = 6; width = 8; } 
  1163 |     else if (rand > 0.2) { type = 'tree'; } 
> 1164 |     return { z: -i * 50, type, height, width, offset: (Math.random() - 0.5) * 20 };
       |                                                        ^^^^^^^^^^^^^ Cannot call impure function
  1165 |   }), []);
  1166 |
  1167 |   const groupRef = useRef();                                                                                                                                                                                                                                                                                                                                                                    react-hooks/purity
  1329:7   error  Error: This value cannot be modified

Modifying a value returned from a hook is not allowed. Consider moving the modification into the hook where the value is constructed.

  1327 |   useFrame(() => {
  1328 |     if (cameraShake > 0 && gameState === 'gameover') {
> 1329 |       camera.position.x = originalPosition.current.x + (Math.random() - 0.5) * cameraShake * 0.5;
       |       ^^^^^^^^^^^^^^^ `camera` cannot be modified
  1330 |       camera.position.y = originalPosition.current.y + (Math.random() - 0.5) * cameraShake * 0.5;
  1331 |     } else {
  1332 |       camera.position.x = originalPosition.current.x;                                                                                                                                                                                                                                                                                                                                                                                                                                                                           react-hooks/immutability
  1419:19  error  'combo' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    no-unused-vars
  1422:5   error  'selectedCar' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              no-unused-vars
  1575:7   error  Duplicate key 'height'                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   no-dupe-keys

Ô£û 20 problems (20 errors, 0 warnings)

